# =============================
# Global Config for Training
# =============================

device: "cpu"

# ---- Universe ----
tickers:            # your 32 stock parquet base names (no extension)
  - NSE_ABB
  # ... add rest of your tickers

# ---- Data Parameters ----
window: 126         # 6-month lookback
min_date: "2015-01-01"
smoke_days: 20      # small test run limit
train_start: "2015-01-01"
train_end: "2020-12-31"
val_start: "2021-01-01"
val_end: "2022-12-31"
test_start: "2023-01-01"
test_end: "2025-10-31"

# ---- Feature Columns ----
feature_cols:
  - Open
  - High
  - Low
  - Close
  - Volume
  - SMA20
  - SMA50
  - RSI14
  - MACD
  - MACD_signal
  - MACD_hist
  - ADX
  - OBV
  - A_D
  - ATR
  - Boll_MA
  - Boll_Upper
  - Boll_Lower
  - Boll_Bandwidth
  - Crude_Oil_WTI_Futures_Historical_Data_ret
  - India_VIX_Historical_Data_ret
  - NASDAQ_Composite_Historical_Data_ret
  - Nifty_50_Historical_Data_ret
  - S&P_500_Historical_Data_(1)_ret
  - USD_INR_Historical_Data_ret

# ---- Portfolio Constraints ----
top_k: 10
min_cash: 0.05
max_asset_weight: 0.20
per_asset_delta_thresh: 0.01   # hysteresis limit for rebalancing
turnover_thresh: 0.02          # skip if small changes
min_trade_value: 1000.0
lot_size: 1

# ---- Replay Buffer & Training ----
replay_capacity: 200000
batch_size: 256
weekly_update_steps: 100
weekly_update_every_days: 5

# ---- Encoder Architecture ----
encoder:
  input_dim: 25
  W: 126
  d_time: 64
  d_gnn: 64
  time_layers: 2
  gnn_layers: 2

# Model parameters
window_length: 126
feature_cols: &features
  - Close
  - Volume
  - SMA20
  - SMA50
  - RSI14
  - MACD
  - MACD_signal
  - MACD_hist
  - ADX
  - OBV
  - A_D
  - ATR
  - Boll_Bandwidth

# Stock universe
tickers: &tickers
  - AAPL
  - MSFT
  - GOOGL
  # ... add all your tickers

# Training parameters
initial_nav: 1000000.0
top_k: 10
min_cash: 0.05
max_asset_weight: 0.20
turnover_thresh: 0.02
per_asset_delta_thresh: 0.01
min_trade_value: 1000.0
lot_size: 1
replay_capacity: 200000
hysteresis_days: 3

# Directories
logs_dir: "logging"
checkpoint_dir: "checkpoints"

# Meta-agent parameters
meta_input_dim: 64
meta_hidden_dim: 128
meta_output_dim: 4
meta_lr: 0.0003
meta_epochs: 10
weekly_update_every_days: 5
